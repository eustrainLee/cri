jsonrpc server 测试用例

# 单次请求对象

## jsonrpc

* `a1` jsonrpc 不存在
* `a2` jsonrpc == null
* `a3` jsonrpc 存在但不是字符串
* `a4` jsonrpc 存在且是字符串但不等于"2.0"
* `a5` jsonrpc 是字符串且等于"2.0"

其中`a2`,`a3`,`a4`无效
`a5`在jsonrpc1.0中无效
`a1`在jsonrpc2.0中无效

## id

* `b1` id 不存在
* `b2` id == null
* `b3` id 是整数类型
* `b4` id 是浮点数
* `b5` id 是字符串
* `b6` id 是JSON对象

其中`b1`无效
`b6`在jsonrpc2.0中无效

## method

* `c1` method 不存在
* `c2` method == null
* `c3` method 是字符串且服务端注册同名方法调用
* `c4` method 是字符串且服务端注册同名通知调用
* `c5` method 是字符串且服务端注册同名方法调用且注册同名通知调用
* `c6` method 是字符串且服务端没有注册任何相关调用
* `c7` method 不为null且不是字符串

其中`c1`,`c2`,`c6`,`c7`无效

## params

* `d1` params 不存在
* `d2` params == null
* `d3` params 是对象类型(jsonrpc2.0要求)
* `d4` params 是对象类型但不是已注册的相关调用的参数类型
* `d5` params 是数组类型，且为空数组
* `d6` params 是数组类型，且不是空数组，且所有元素都是对象类型(jsonrpc1.0要求)
* `d7` params 是数组类型，且不是空数组，且不是所有元素都是对象类型
* `d8` params 不是对象类型也不是数组类型

其中`d1`,`d2`,`d4`,`d5`,`d7`,`d8`无效
`d3`在jsonrpc1.0中无效
`a6`在jsonrpc2.0中无效

## 有效等价类

以下各集合各取出一个元素后组合
* `a1` `b2,b3,b4,b5,b6` `c3,c4,c5` `d6` : 适用于jsonrpc1.0
* `a5` `b2,b3,b4,b5` `c3,c4,c5` `d3` : 适用于jsonrpc2.0

## 无效等价类

### d

1. `a5` `b3` `c3` `d6` : `d6`
2. `a1` `b3` `c3` `d3` : `d3`

### c

3. `a5` `b3` `c1` `d3` : `c1`
4. `a5` `b3` `c2` `d3` : `c2`
5. `a5` `b3` `c6` `d3` : `c6`
6. `a5` `b3` `c7` `d3` : `c7`

### b

7. `a5` `b1` `c3` `d3` : `b1`
8. `a5` `b6` `c3` `d3` : `b6`

### a

* `a1` `b3` `c3` `d3` : `a1` 重复2
9. `a2` `b3` `c3` `d3` : `a2`
10. `a3` `b3` `c3` `d3` : `a3`
11. `a4` `b3` `c3` `d3` : `a4`
* `a5` `b3` `c3` `d6` : `a5` 重复1

## 其他

12. `a1` `b1` `c1` `d1` : 空对象

## 统计

有效等价类 27
无效等价类 11
其他 1
总计 39

# 批量调用

批量调用对象request

1. request不存在
2. request==null
3. request不是数组类型
4. request是空数组
5. request不是空数组且全部是方法调用且全部正常调用
6. request不是空数组且全部是通知且全部正常调用
7. request不是空数组且部分是方法调用其余是通知且全部正常调用
8. request不是空数组且全部是方法调用且部分出错
9. request不是空数组且全部是通知且部分出错
10. request不是空数组且部分是方法调用部分是通知且至少一个方法调用出错
11. request不是空数组且部分是方法调用部分是通知且至少一个通知出错
12. request不是空数组且全部是方法调用且全部出错
13. request不是空数组且全部是通知且全部出错
14. request不是空数组且部分是方法调用部分是通知且全部出错

## 统计
总计 14

# 压力测试

1. params过长(约1M)
2. params对象层数过多
3. 连续发送128K个单次调用请求
4. 连续发送128K个批量调用请求
5. 连续并交替发送64K个单次调用请求，64K次批量调用


